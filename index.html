<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>📚 Στατιστική Κουίζ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
    <style>
        .rewards-info {
            background: rgba(255, 255, 255, 0.15);
            border-radius: 20px;
            padding: 15px;
            margin: 20px auto;
            max-width: 600px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            animation: fadeIn 0.5s ease-out;
        }

        .rewards-header {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-bottom: 15px;
            background: rgba(0, 0, 0, 0.2);
            padding: 8px;
            border-radius: 15px;
        }

        .rewards-header .trophy {
            font-size: 1.4em;
            animation: bounce 2s infinite;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2));
        }

        .rewards-header h3 {
            color: #FFFFFF;
            font-size: 1.2em;
            margin: 0;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
            font-weight: bold;
            letter-spacing: 1px;
        }

        .rewards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 10px;
            padding: 5px;
        }

        .reward-pill {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 30px;
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.2);
            cursor: help;
            overflow: hidden;
        }

        .reward-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 8px 15px;
            background: inherit;
        }

        .reward-pill:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            border-color: rgba(255, 255, 255, 0.3);
        }

        .reward-score {
            font-weight: bold;
            font-size: 0.9em;
            padding: 4px 8px;
            border-radius: 15px;
            background: rgba(0, 0, 0, 0.2);
            min-width: 45px;
            text-align: center;
            color: #FFFFFF;
            text-shadow: 0 1px 2px rgba(0,0,0,0.3);
        }

        .reward-badge {
            font-size: 0.9em;
            letter-spacing: -1px;
            filter: drop-shadow(0 1px 2px rgba(0,0,0,0.2));
        }

        .reward-pill.gold { background: linear-gradient(135deg, rgba(255, 215, 0, 0.3), rgba(255, 215, 0, 0.1)); }
        .reward-pill.silver { background: linear-gradient(135deg, rgba(192, 192, 192, 0.3), rgba(192, 192, 192, 0.1)); }
        .reward-pill.bronze { background: linear-gradient(135deg, rgba(205, 127, 50, 0.3), rgba(205, 127, 50, 0.1)); }
        .reward-pill.good { background: linear-gradient(135deg, rgba(100, 149, 237, 0.3), rgba(100, 149, 237, 0.1)); }
        .reward-pill.study { background: linear-gradient(135deg, rgba(147, 112, 219, 0.3), rgba(147, 112, 219, 0.1)); }
        .reward-pill.try-again { background: linear-gradient(135deg, rgba(255, 99, 71, 0.3), rgba(255, 99, 71, 0.1)); }

        .reward-pill.gold .reward-score { background: rgba(255, 215, 0, 0.3); }
        .reward-pill.silver .reward-score { background: rgba(192, 192, 192, 0.3); }
        .reward-pill.bronze .reward-score { background: rgba(205, 127, 50, 0.3); }
        .reward-pill.good .reward-score { background: rgba(100, 149, 237, 0.3); }
        .reward-pill.study .reward-score { background: rgba(147, 112, 219, 0.3); }
        .reward-pill.try-again .reward-score { background: rgba(255, 99, 71, 0.3); }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-5px); }
            60% { transform: translateY(-3px); }
        }

        @media (max-width: 768px) {
            .rewards-info {
                max-width: 95%;
                padding: 12px;
                margin: 15px auto;
            }

            .rewards-grid {
                grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
                gap: 8px;
            }

            .reward-content {
                padding: 6px 12px;
            }

            .reward-score {
                font-size: 0.8em;
                padding: 3px 6px;
            }

            .reward-badge {
                font-size: 0.8em;
            }
        }

        @media (max-width: 480px) {
            .rewards-header h3 {
                font-size: 1em;
            }

            .rewards-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .reward-content {
                padding: 5px 10px;
            }

            .reward-score {
                min-width: 35px;
            }
        }

        .celebration-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            pointer-events: none;
            z-index: 99999;
        }

        .celebration-message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.9);
            z-index: 100000;
            min-width: 300px;
            max-width: 90%;
            background: white;
            color: #FF1493;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            font-size: 1.8em;
            font-weight: bold;
            opacity: 0;
            transition: all 0.5s ease;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
            pointer-events: none;
        }

        .celebration-message.show {
            opacity: 1;
            transform: translate(-50%, -50%) scale(1);
        }

        .celebration-message .highlight {
            display: inline-block;
            padding: 5px 15px;
            margin: 0 5px;
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.3), rgba(255, 215, 0, 0.1));
            border-radius: 20px;
            color: #FFD700;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
            animation: pulseHighlight 2s infinite;
            border: 1px solid rgba(255, 215, 0, 0.3);
        }

        @keyframes pulseHighlight {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        @media (max-width: 768px) {
            .celebration-message {
                font-size: 1.4em;
                padding: 15px;
                min-width: 250px;
            }
        }

        @media (max-width: 480px) {
            .celebration-message {
                font-size: 1.2em;
                padding: 12px;
                min-width: 200px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>📚 Στατιστική Κουίζ</h1>
            <p>Επιλέξτε μια κατηγορία για να ξεκινήσετε!</p>
            <div class="heart-decoration">
                <i class="fas fa-heart"></i>
                <i class="fas fa-heart"></i>
                <i class="fas fa-heart"></i>
            </div>
            <div class="rewards-info">
                <div class="rewards-header">
                    <span class="trophy">🏆</span>
                    <h3>Επίπεδα Επιτυχίας</h3>
                </div>
                <div class="rewards-grid">
                    <div class="reward-pill gold" title="Άριστα!">
                        <div class="reward-content">
                            <span class="reward-score">≥95%</span>
                            <span class="reward-badge">💋💋💋💋💋</span>
                        </div>
                    </div>
                    <div class="reward-pill silver" title="Εξαιρετικά!">
                        <div class="reward-content">
                            <span class="reward-score">≥90%</span>
                            <span class="reward-badge">💋💋💋💋</span>
                        </div>
                    </div>
                    <div class="reward-pill bronze" title="Πολύ Καλά!">
                        <div class="reward-content">
                            <span class="reward-score">≥85%</span>
                            <span class="reward-badge">💋💋💋</span>
                        </div>
                    </div>
                    <div class="reward-pill good" title="Καλά!">
                        <div class="reward-content">
                            <span class="reward-score">≥50%</span>
                            <span class="reward-badge">💋💋</span>
                        </div>
                    </div>
                    <div class="reward-pill study" title="Χρειάζεται Διάβασμα">
                        <div class="reward-content">
                            <span class="reward-score">≥30%</span>
                            <span class="reward-badge">💋</span>
                        </div>
                    </div>
                    <div class="reward-pill try-again" title="Προσπάθησε Ξανά">
                        <div class="reward-content">
                            <span class="reward-score"><30%</span>
                            <span class="reward-badge">🤬</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="category-container" id="categoryContainer">
            <div class="category-card" data-category="distributions">
                <div class="category-icon">📊</div>
                <div class="category-title">Κατανομές & Πιθανότητες</div>
                <div class="category-description">Βασικές έννοιες κατανομών και πιθανοτήτων</div>
                <div class="category-stats">20 Ερωτήσεις</div>
            </div>

            <div class="category-card" data-category="statistics">
                <div class="category-icon">📈</div>
                <div class="category-title">Στατιστικές Μέθοδοι & Μέτρα</div>
                <div class="category-description">Βασικές στατιστικές έννοιες και μεθοδολογίες</div>
                <div class="category-stats">20 Ερωτήσεις</div>
            </div>

            <div class="category-card" data-category="descriptive">
                <div class="category-icon">📉</div>
                <div class="category-title">Περιγραφική Στατιστική</div>
                <div class="category-description">Μέτρα κεντρικής τάσης και διασποράς</div>
                <div class="category-stats">20 Ερωτήσεις</div>
            </div>

            <div class="category-card" data-category="advanced">
                <div class="category-icon">🎓</div>
                <div class="category-title">Προχωρημένες Μέθοδοι</div>
                <div class="category-description">Πολυμεταβλητή ανάλυση και προχωρημένες τεχνικές</div>
                <div class="category-stats">20 Ερωτήσεις</div>
            </div>

            <div class="category-card" data-category="expert">
                <div class="category-icon">🎯</div>
                <div class="category-title">Ειδικά Θέματα Στατιστικής</div>
                <div class="category-description">Προχωρημένες έννοιες και ειδικές στατιστικές τεχνικές</div>
                <div class="category-stats">20 Ερωτήσεις</div>
            </div>

            <div class="category-card" data-category="mixed">
                <div class="category-icon">🎲</div>
                <div class="category-title">Τυχαίες Ερωτήσεις</div>
                <div class="category-description">Τυχαία επιλογή ερωτήσεων από όλες τις κατηγορίες</div>
                <div class="category-stats">20 Ερωτήσεις</div>
            </div>
        </div>

        <div id="quizContainer" style="display: none;">
            <div id="questionsContainer"></div>
            <div class="progress-bar">
                <div class="progress-fill" id="progressBar"></div>
            </div>
            <div class="controls">
                <button id="checkAnswers" class="btn">Έλεγχος Απαντήσεων</button>
                <button id="restartQuiz" class="btn" style="display: none;">Προσπάθησε Ξανά</button>
                <button id="backToCategories" class="btn">Πίσω στις Κατηγορίες</button>
            </div>
            <div id="results" class="results" style="display: none;">
                <h2>Αποτελέσματα</h2>
                <div class="score">Σωστές απαντήσεις: <span id="score">0/0</span></div>
                <div class="percentage">Ποσοστό επιτυχίας: <span id="percentage">0%</span></div>
            </div>
        </div>

        <!-- Celebration Container -->
        <div id="celebrationContainer" class="celebration-container" style="display: none;">
            <div id="celebrationMessage" class="celebration-message"></div>
        </div>
    </div>

    <script>
        const questionsByCategory = {
            'distributions': [
                {
                    question: "Ποιος είναι ο τύπος του δείγματος μέσης τιμής;",
                    answers: [
                        "(Σxi)/n(Σ x_i)/n",
                        "(Σ(xi–μ)2)/(n–1)(Σ (x_i – μ)^2)/(n–1)",
                        "σ/√nσ/√n",
                        "μ+z⋅σμ + z·σ"
                    ],
                    correct: 0
                },
                {
                    question: "Αν ένα γεγονός έχει πιθανότητα 0.2, ποια είναι η πιθανότητα να μην συμβεί;",
                    answers: [
                        "0.2",
                        "0.8",
                        "1.2",
                        "0.5"
                    ],
                    correct: 1
                },
                {
                    question: "Ποια κατανομή προσεγγίζεται από τη διωνυμική κατανομή όταν το πλήθος των δοκιμών είναι μεγάλο και η πιθανότητα επιτυχίας μικρή;",
                    answers: [
                        "Κανονική",
                        "Πουασσόν",
                        "Ομοιόμορφη",
                        "χ²"
                    ],
                    correct: 1
                },
                {
                    question: "Το επίπεδο σημαντικότητας α σε έναν έλεγχο τοποθεσιών αντιπροσωπεύει:",
                    answers: [
                        "την πιθανότητα αποδοχής της εναλλακτικής υπόθεσης",
                        "την πιθανότητα λάθους τύπου I",
                        "την πιθανότητα λάθους τύπου II",
                        "την πιθανότητα επιτυχίας"
                    ],
                    correct: 1
                },
                {
                    question: "Σε ποια περίπτωση χρησιμοποιούμε το t-test αντί για το z-test;",
                    answers: [
                        "όταν γνωρίζουμε τη διακύμανση του πληθυσμού",
                        "όταν το δείγμα είναι πολύ μεγάλο",
                        "όταν το δείγμα είναι μικρό και η διακύμανση άγνωστη",
                        "ποτέ"
                    ],
                    correct: 2
                },
                {
                    question: "Ποιος από τους παρακάτω δείκτες μέτρησης μεταβλητότητας είναι πιο ευαίσθητος σε ακραίες τιμές;",
                    answers: [
                        "εύρος (range)",
                        "ενδοτεταρτημοριακό εύρος (IQR)",
                        "διακύμανση (variance)",
                        "διάμεσος (median)"
                    ],
                    correct: 2
                },
                {
                    question: "Σε μια απλή γραμμική παλινδρόμηση, ο συντελεστής B₁ αντιπροσωπεύει:",
                    answers: [
                        "τη σταθερά",
                        "το σημείο εκκίνησης της ευθείας",
                        "τον ρυθμό μεταβολής της εξαρτημένης μεταβλητής σε σχέση με την ανεξάρτητη",
                        "το συνολικό σφάλμα"
                    ],
                    correct: 2
                },
                {
                    question: "Ποιο από τα παρακάτω δεν είναι προϋπόθεση της κανονικής κατανομής;",
                    answers: [
                        "συμμετρία γύρω από τη μέση τιμή",
                        "καμπύλη σε σχήμα καμπάνας",
                        "ασυμμετρία προς τα δεξιά",
                        "η μέση τιμή, διάμεσος και επικρατούσα ταυτίζονται"
                    ],
                    correct: 2
                },
                {
                    question: "Όταν αυξάνουμε το μέγεθος του δείγματος, τι συμβαίνει στο πλάτος του διαστήματος εμπιστοσύνης;",
                    answers: [
                        "αυξάνεται",
                        "μειώνεται",
                        "μένει σταθερό",
                        "μηδενίζεται"
                    ],
                    correct: 1
                },
                {
                    question: "Ποια είναι η αναμενόμενη τιμή της μεταβλητής σε μια Πουασσόν κατανομή με μέσο όρο λ;",
                    answers: [
                        "λ²",
                        "λ",
                        "√λ",
                        "2λ"
                    ],
                    correct: 1
                },
                {
                    question: "Η διακύμανση είναι:",
                    answers: [
                        "ο μέσος όρος των παρατηρήσεων",
                        "το άθροισμα των παρατηρήσεων",
                        "ο μέσος όρος των τετραγώνων των αποκλίσεων από τη μέση τιμή",
                        "το γινόμενο των παρατηρήσεων"
                    ],
                    correct: 2
                },
                {
                    question: "Η πιθανότητα της ένωσης δύο ασυμβίβαστων γεγονότων A και B είναι:",
                    answers: [
                        "P(A) + P(B)",
                        "P(A) * P(B)",
                        "P(A) – P(B)",
                        "P(A) + P(B) – P(A ∩ B)"
                    ],
                    correct: 0
                },
                {
                    question: "Η τιμή του μέσου σε μια συμμετρική κατανομή είναι:",
                    answers: [
                        "μεγαλύτερη από τη διάμεσο",
                        "ίση με τη διάμεσο",
                        "μικρότερη από τη διάμεσο",
                        "δεν σχετίζεται"
                    ],
                    correct: 1
                },
                {
                    question: "Η τυπική απόκλιση:",
                    answers: [
                        "το τετράγωνο της διακύμανσης",
                        "η τετραγωνική ρίζα της διακύμανσης",
                        "η μέση τιμή των παρατηρήσεων",
                        "η μέγιστη τιμή του δείγματος"
                    ],
                    correct: 1
                },
                {
                    question: "Ποια είναι η βασική ιδιότητα της κανονικής κατανομής;",
                    answers: [
                        "είναι ασύμμετρη",
                        "η μέση τιμή ισούται με την τυπική απόκλιση",
                        "είναι συμμετρική γύρω από τον μέσο όρο",
                        "έχει δύο κορυφές"
                    ],
                    correct: 2
                },
                {
                    question: "Σε μια κανονική κατανομή, περίπου το 68% των παρατηρήσεων βρίσκονται:",
                    answers: [
                        "μέσα σε 1 τυπική απόκλιση από τη μέση τιμή",
                        "μέσα σε 2 τυπικές αποκλίσεις",
                        "μέσα σε 3 τυπικές αποκλίσεις",
                        "σε οποιαδήποτε απόσταση"
                    ],
                    correct: 0
                },
                {
                    question: "Ο δείκτης συσχέτισης r μετρά:",
                    answers: [
                        "τη μέση τιμή",
                        "το βαθμό γραμμικής σχέσης",
                        "το εύρος των δεδομένων",
                        "τη διακύμανση"
                    ],
                    correct: 1
                },
                {
                    question: "Στον έλεγχο υποθέσεων, η εναλλακτική υπόθεση συμβολίζεται συνήθως με:",
                    answers: [
                        "H₁",
                        "H₀",
                        "μ",
                        "σ"
                    ],
                    correct: 0
                },
                {
                    question: "Το διάστημα εμπιστοσύνης για το μέσο όρο μικρού δείγματος (n<30) χρησιμοποιεί:",
                    answers: [
                        "κατανομή z",
                        "κατανομή t",
                        "κατανομή F",
                        "κατανομή χ²"
                    ],
                    correct: 1
                },
                {
                    question: "Σε έναν έλεγχο υποθέσεων, αν p-value < α, τότε:",
                    answers: [
                        "αποδεχόμαστε H₀",
                        "απορρίπτουμε H₀",
                        "δεν παίρνουμε απόφαση",
                        "αλλάζουμε την τιμή του δείγματος"
                    ],
                    correct: 1
                }
            ],
            'statistics': [
                {
                    question: "Ο τύπος για τον δείκτη μεταβλητότητας (CV) είναι:",
                    answers: [
                        "CV = σ / x̄ * 100%",
                        "CV = x̄ / σ * 100%",
                        "CV = σ * x̄",
                        "CV = σ – x̄"
                    ],
                    correct: 0
                },
                {
                    question: "Ποιο από τα παρακάτω αφορά μια δειγματοληψία χωρίς επανάθεση;",
                    answers: [
                        "η ίδια μονάδα μπορεί να επιλεγεί πολλές φορές",
                        "κάθε μονάδα επιλέγεται μόνο μία φορά",
                        "δεν υπάρχει αντικειμενικότητα",
                        "το δείγμα είναι πάντοτε άπειρο"
                    ],
                    correct: 1
                },
                {
                    question: "Το διάγραμμα κουτιού (boxplot) δίνει πληροφορίες για:",
                    answers: [
                        "την κανονικότητα των δεδομένων",
                        "τη μέση τιμή μόνο",
                        "τη διασπορά και τις ακραίες τιμές",
                        "μόνο το εύρος"
                    ],
                    correct: 2
                },
                {
                    question: "Σε μια χ² (chi-square) κατανομή, ποιο χαρακτηριστικό ισχύει;",
                    answers: [
                        "είναι συμμετρική",
                        "είναι πάντοτε θετική",
                        "είναι κανονική",
                        "είναι δικόρφη"
                    ],
                    correct: 1
                },
                {
                    question: "Το συνολικό άθροισμα τετραγώνων (SST) σε ανάλυση διακύμανσης (ANOVA) ισούται με:",
                    answers: [
                        "σφάλμα + μεταξύ ομάδων",
                        "μέσος όρος + σφάλμα",
                        "ενδοομαδική διακύμανση μόνο",
                        "μέση τιμή + τυπική απόκλιση"
                    ],
                    correct: 0
                },
                {
                    question: "Αν r = 0, τότε:",
                    answers: [
                        "υπάρχει ισχυρή συσχέτιση",
                        "δεν υπάρχει γραμμική συσχέτιση",
                        "υπάρχει μη γραμμική συσχέτιση",
                        "τα δεδομένα είναι κανονικά κατανεμημένα"
                    ],
                    correct: 1
                },
                {
                    question: "Ποιο από τα παρακάτω αφορά τη διακριτή τυχαία μεταβλητή;",
                    answers: [
                        "παίρνει συνεχείς τιμές",
                        "παίρνει συγκεκριμένες τιμές",
                        "παίρνει άπειρως πολλές τιμές",
                        "δεν παίρνει καμία τιμή"
                    ],
                    correct: 1
                },
                {
                    question: "Το εύρος (range) υπολογίζεται ως:",
                    answers: [
                        "μικρότερη τιμή – μεγαλύτερη τιμή",
                        "μεγαλύτερη τιμή – μικρότερη τιμή",
                        "μέση τιμή × 2",
                        "τετραγωνική ρίζα της διακύμανσης"
                    ],
                    correct: 1
                },
                {
                    question: "Ποια από τις παρακάτω κατανομές είναι διωνυμική;",
                    answers: [
                        "επιτυχία/αποτυχία",
                        "ύψος ανθρώπων",
                        "χρόνος αντίδρασης",
                        "πλήθος συμβάντων ανά μονάδα χρόνου"
                    ],
                    correct: 0
                },
                {
                    question: "Ποια κατανομή χρησιμοποιούμε για καταμέτρηση αριθμού γεγονότων σε δεδομένο χρόνο ή χώρο;",
                    answers: [
                        "κανονική",
                        "Poisson",
                        "διωνυμική",
                        "υπερδιωνυμική"
                    ],
                    correct: 1
                },
                {
                    question: "Η μέση τιμή των δεδομένων 2,4,6,8,2,4,6,8,2,4,6,8 είναι:",
                    answers: [
                        "5",
                        "6",
                        "4",
                        "7"
                    ],
                    correct: 0
                },
                {
                    question: "Ποια μέθοδος δειγματοληψίας βασίζεται στην πιθανότητα;",
                    answers: [
                        "στοχευμένη",
                        "συστηματική",
                        "τυχαία",
                        "χιονοστιβάδας"
                    ],
                    correct: 2
                },
                {
                    question: "Το επίπεδο εμπιστοσύνης 95% αντιστοιχεί σε ποιο z-score περίπου;",
                    answers: [
                        "1.28",
                        "1.64",
                        "1.96",
                        "2.58"
                    ],
                    correct: 2
                },
                {
                    question: "Ποια από τις παρακάτω ποσότητες δεν είναι στατιστικό μέτρο κεντρικής τάσης;",
                    answers: [
                        "μέση τιμή",
                        "διάμεσος",
                        "επικρατούσα τιμή",
                        "τυπική απόκλιση"
                    ],
                    correct: 3
                },
                {
                    question: "Ο νόμος των μεγάλων αριθμών υποδεικνύει ότι:",
                    answers: [
                        "το δείγμα διαφέρει από τον πληθυσμό",
                        "το δείγμα προσεγγίζει την πραγματική μέση τιμή",
                        "το δείγμα αυξάνει πάντα",
                        "το δείγμα αποτυγχάνει"
                    ],
                    correct: 1
                },
                {
                    question: "Ποιο επίπεδο μέτρησης περιγράφει την κατηγορική ταξινόμηση χωρίς σειρά;",
                    answers: [
                        "ονομαστικό",
                        "τακτικό",
                        "αναλογικό",
                        "διάστημα"
                    ],
                    correct: 0
                },
                {
                    question: "Πότε χρησιμοποιούμε το F-test;",
                    answers: [
                        "για έλεγχο δύο μέσων",
                        "για έλεγχο δύο διακυμάνσεων",
                        "για έλεγχο μιας πιθανότητας",
                        "για έλεγχο της διαμέσου"
                    ],
                    correct: 1
                },
                {
                    question: "Ποια είναι η εξίσωση της απλής γραμμικής παλινδρόμησης;",
                    answers: [
                        "y = β₀ + β₁·x",
                        "y = x + β",
                        "y = x²",
                        "y = β₀/x"
                    ],
                    correct: 0
                },
                {
                    question: "Σε έναν έλεγχο υποθέσεων, το σφάλμα τύπου II είναι:",
                    answers: [
                        "απόρριψη σωστής H₀",
                        "μη απόρριψη λανθασμένης H₀",
                        "απόρριψη σωστής H₁",
                        "αποδοχή σωστής H₀"
                    ],
                    correct: 1
                },
                {
                    question: "Ο συντελεστής προσδιορισμού R² δείχνει:",
                    answers: [
                        "τη διασπορά",
                        "την ακρίβεια του δείγματος",
                        "το ποσοστό της μεταβλητότητας που εξηγείται",
                        "την τυπική απόκλιση"
                    ],
                    correct: 2
                }
            ],
            'descriptive': [
                {
                    question: "Αν η διακύμανση ενός δείγματος είναι μηδέν, τότε:",
                    answers: [
                        "όλες οι παρατηρήσεις είναι διαφορετικές",
                        "όλες οι παρατηρήσεις είναι ίδιες",
                        "η τυπική απόκλιση είναι 1",
                        "η διάμεσος είναι μηδέν"
                    ],
                    correct: 1
                },
                {
                    question: "Το επίπεδο σημαντικότητας α σε έλεγχο υποθέσεων είναι:",
                    answers: [
                        "η πιθανότητα αποδοχής H₀",
                        "η πιθανότητα απόρριψης σωστής H₀",
                        "το δείγμα",
                        "το μέγεθος του δείγματος"
                    ],
                    correct: 1
                },
                {
                    question: "Ποια κατανομή πλησιάζει το n τείνει στο συν άπειρο;",
                    answers: [
                        "διωνυμική",
                        "Πουασσόν",
                        "υπερδιωνυμική",
                        "όλες οι παραπάνω"
                    ],
                    correct: 0
                },
                {
                    question: "Σε μια κανονική κατανομή, το 68% των δεδομένων βρίσκεται μέσα σε:",
                    answers: [
                        "1 τυπική απόκλιση από τη μέση τιμή",
                        "2 τυπικές αποκλίσεις",
                        "3 τυπικές αποκλίσεις",
                        "4 τυπικές αποκλίσεις"
                    ],
                    correct: 0
                },
                {
                    question: "Σε ποια περίπτωση χρησιμοποιούμε το t-test αντί για το z-test;",
                    answers: [
                        "όταν το δείγμα είναι πολύ μεγάλο",
                        "όταν γνωρίζουμε την πληθυσμιακή διακύμανση",
                        "όταν το δείγμα είναι μικρό και η διακύμανση άγνωστη",
                        "όταν τα δεδομένα είναι διακριτά"
                    ],
                    correct: 2
                },
                {
                    question: "Η διακύμανση ενός δείγματος υπολογίζεται διαιρώντας με:",
                    answers: [
                        "n",
                        "n – 1",
                        "n + 1",
                        "n²"
                    ],
                    correct: 1
                },
                {
                    question: "Η τυπική απόκλιση είναι:",
                    answers: [
                        "το τετράγωνο της διακύμανσης",
                        "η διακύμανση επί δύο",
                        "η τετραγωνική ρίζα της διακύμανσης",
                        "η μέση τιμή επί δύο"
                    ],
                    correct: 2
                },
                {
                    question: "Η διάμεσος επηρεάζεται πολύ από:",
                    answers: [
                        "ακραίες τιμές",
                        "το μέσο όρο",
                        "το εύρος",
                        "δεν επηρεάζεται από ακραίες τιμές"
                    ],
                    correct: 3
                },
                {
                    question: "Σε ένα διάγραμμα διασποράς (scatterplot), τι παριστάνει κάθε σημείο;",
                    answers: [
                        "μια μέση τιμή",
                        "μια παρατήρηση (ζεύγος τιμών)",
                        "μια γραμμική σχέση",
                        "την τυπική απόκλιση"
                    ],
                    correct: 1
                },
                {
                    question: "Ποιος δείκτης μετράει τη γραμμική σχέση δύο μεταβλητών;",
                    answers: [
                        "δείκτης μεταβλητότητας",
                        "συντελεστής συσχέτισης Pearson",
                        "δείκτης διακύμανσης",
                        "δείκτης επικινδυνότητας"
                    ],
                    correct: 1
                },
                {
                    question: "Ένα διάστημα εμπιστοσύνης για τη μέση τιμή ενός πληθυσμού με άγνωστη διακύμανση και δείγμα μεγέθους n<30 βασίζεται στη:",
                    answers: [
                        "κανονική κατανομή",
                        "F-κατανομή",
                        "t-κατανομή",
                        "χ²-κατανομή"
                    ],
                    correct: 2
                },
                {
                    question: "Η πιθανότητα να κάνουμε σφάλμα τύπου 2 αυξάνεται όταν:",
                    answers: [
                        "αυξάνεται το μέγεθος δείγματος",
                        "μειώνεται το επίπεδο σημαντικότητας α",
                        "η απόκλιση από την H₀ είναι πολύ μεγάλη",
                        "το p-value είναι μικρό"
                    ],
                    correct: 1
                },
                {
                    question: "Στην ανάλυση διακύμανσης (ANOVA), αν η τιμή F είναι πολύ μεγάλη τότε:",
                    answers: [
                        "οι μέσοι όροι των ομάδων είναι ίδιοι",
                        "δεν υπάρχει σημαντική διαφορά μεταξύ των ομάδων",
                        "υπάρχει τουλάχιστον μία ομάδα με διαφορετικό μέσο",
                        "το δείγμα είναι μικρό"
                    ],
                    correct: 2
                },
                {
                    question: "Ο έλεγχος Kolmogorov–Smirnov χρησιμοποιείται για να:",
                    answers: [
                        "εξετάσει αν δύο πληθυσμοί έχουν ίδιες διακυμάνσεις",
                        "ελέγξει την κανονικότητα μιας κατανομής",
                        "υπολογίσει την τυπική απόκλιση",
                        "υπολογίσει το εύρος"
                    ],
                    correct: 1
                },
                {
                    question: "Το p-value εκφράζει:",
                    answers: [
                        "τη μέγιστη πιθανότητα απόρριψης της H₁",
                        "την πιθανότητα να παρατηρήσουμε ένα δείγμα τόσο ακραίο όσο αυτό αν η H₀ είναι αληθής",
                        "τη διαφορά μεταξύ των μέσων όρων",
                        "τη δύναμη του τεστ"
                    ],
                    correct: 1
                },
                {
                    question: "Ένα μεγάλο δείγμα n=1000 έχει μέση τιμή 50 και τυπική απόκλιση 10. Ποια είναι η πιθανότητα μια νέα παρατήρηση να απέχει πάνω από 30 μονάδες από τη μέση τιμή;",
                    answers: [
                        "(περίπου) 0.05",
                        "0.002",
                        "0.01",
                        "0.001"
                    ],
                    correct: 1
                },
                {
                    question: "Ο δείκτης R² στην παλινδρόμηση δείχνει:",
                    answers: [
                        "την ακρίβεια των παρατηρήσεων",
                        "την πιθανότητα απόρριψης της H₀",
                        "το ποσοστό μεταβλητότητας της εξαρτημένης μεταβλητής που εξηγείται από τις ανεξάρτητες",
                        "τη μέση τιμή των σφαλμάτων"
                    ],
                    correct: 2
                },
                {
                    question: "Αν η τυπική απόκλιση είναι πολύ μεγαλύτερη από τη μέση τιμή, τότε ο δείκτης μεταβλητότητας (CV) θα είναι:",
                    answers: [
                        "< 10%",
                        "μεγάλος",
                        "μηδενικός",
                        "ίσος με 1"
                    ],
                    correct: 1
                },
                {
                    question: "Στη χ² κατανομή, η προσέγγιση στην κανονική κατανομή είναι καλύτερη όταν:",
                    answers: [
                        "οι βαθμοί ελευθερίας είναι πολύ μικροί",
                        "οι βαθμοί ελευθερίας είναι μεγάλοι",
                        "ο αριθμός ομάδων είναι 1",
                        "τα δεδομένα είναι διακριτά"
                    ],
                    correct: 1
                },
                {
                    question: "Η μέθοδος Bonferroni χρησιμοποιείται για:",
                    answers: [
                        "έλεγχο κανονικότητας",
                        "έλεγχο υποθέσεων σε επαναλαμβανόμενες δοκιμές (διόρθωση πολλαπλών συγκρίσεων)",
                        "υπολογισμό της διακύμανσης",
                        "εκτίμηση της τυπικής απόκλισης"
                    ],
                    correct: 1
                }
            ],
            'advanced': [
                {
                    question: "Αν δύο μεταβλητές έχουν συντελεστή συσχέτισης r = –0.95, τότε:",
                    answers: [
                        "δεν έχουν γραμμική σχέση",
                        "έχουν ισχυρή αρνητική γραμμική σχέση",
                        "έχουν αδύναμη συσχετική",
                        "είναι στατιστικά ανεξάρτητες"
                    ],
                    correct: 1
                },
                {
                    question: "Σε έναν έλεγχο ANOVA με 4 ομάδες και συνολικά 20 παρατηρήσεις πόσοι είναι οι βαθμοί ελευθερίας μεταξύ των ομάδων (d):",
                    answers: [
                        "4",
                        "3",
                        "16",
                        "19"
                    ],
                    correct: 1
                },
                {
                    question: "Η κατανομή Student's t τείνει στην κανονική κατανομή όταν:",
                    answers: [
                        "το δείγμα είναι πολύ μικρό",
                        "η διακύμανση είναι γνωστή",
                        "το n τείνει στο άπειρο",
                        "το επίπεδο σημαντικότητας είναι 0.01"
                    ],
                    correct: 2
                },
                {
                    question: "Ο στατιστικός έλεγχος Levene χρησιμοποιείται για να ελέγξει:",
                    answers: [
                        "ισότητα μέσων όρων",
                        "ισότητα διασπορών",
                        "ισότητα τυπικών αποκλίσεων",
                        "κανονικότητα"
                    ],
                    correct: 1
                },
                {
                    question: "Σε μια απλή γραμμική παλινδρόμηση, το σφάλμα e (residual) ορίζεται ως:",
                    answers: [
                        "η προβλεπόμενη τιμή",
                        "η πραγματική τιμή",
                        "η διαφορά μεταξύ πραγματικής και προβλεπόμενης τιμής",
                        "η μέση τιμή"
                    ],
                    correct: 2
                },
                {
                    question: "Ο έλεγχος Shapiro–Wilk ελέγχει:",
                    answers: [
                        "αν η διακύμανση είναι μικρή",
                        "αν τα δεδομένα είναι ανεξάρτητα",
                        "την κανονικότητα των δεδομένων",
                        "τη γραμμική συσχέτιση"
                    ],
                    correct: 2
                },
                {
                    question: "Αν r² = 0.81 στην παλινδρόμηση τότε:",
                    answers: [
                        "το 81% των παρατηρήσεων είναι ίδιες",
                        "το 81% της μεταβλητότητας εξηγείται από το μοντέλο",
                        "το 81% των τιμών είναι σωστές",
                        "η παλινδρόμηση έχει μικρή ακρίβεια"
                    ],
                    correct: 1
                },
                {
                    question: "Ποιο από τα παρακάτω είναι μη παραμετρικό τεστ;",
                    answers: [
                        "t-test",
                        "z-test",
                        "Mann–Whitney U",
                        "ANOVA"
                    ],
                    correct: 2
                },
                {
                    question: "Ποια από τις παρακάτω μεταβλητές είναι ονομαστική;",
                    answers: [
                        "ύψος",
                        "ημερομηνία",
                        "φύλο",
                        "βάρος"
                    ],
                    correct: 2
                },
                {
                    question: "Αν έχουμε μεγάλο δείγμα και χρησιμοποιούμε t-test αντί για z-test, το αποτέλεσμα:",
                    answers: [
                        "είναι σημαντικά λανθασμένο",
                        "είναι πιο συντηρητικό",
                        "είναι περίπου ίδιο",
                        "δεν είναι αποδεκτό"
                    ],
                    correct: 2
                },
                {
                    question: "Η συνθήκη ανεξαρτησίας των παρατηρήσεων είναι κρίσιμη για:",
                    answers: [
                        "υπολογισμό του εύρους",
                        "την εφαρμογή του t-test",
                        "κατασκευή ραβδογράμματος",
                        "υπολογισμό της διαμέσου"
                    ],
                    correct: 1
                },
                {
                    question: "Το 95% διάστημα εμπιστοσύνης για μια μέση τιμή δεν περιέχει το μηδέν. Τι συμπεραίνουμε;",
                    answers: [
                        "η μέση τιμή είναι σίγουρα 0",
                        "το αποτέλεσμα δεν είναι στατιστικά σημαντικό",
                        "η μηδενική υπόθεση H₀: μ=0 απορρίπτεται",
                        "δεν υπάρχει επαρκές δείγμα"
                    ],
                    correct: 2
                },
                {
                    question: "Η διαφορά μεταξύ παραμετρικών και μη παραμετρικών τεστ έγκειται κυρίως:",
                    answers: [
                        "στην πολυπλοκότητα",
                        "στην ταχύτητα υπολογισμού",
                        "στις υποθέσεις για την κατανομή",
                        "στον αριθμό μεταβλητών"
                    ],
                    correct: 2
                },
                {
                    question: "Σε πολυμεταβλητή γραμμική παλινδρόμηση, το πρόβλημα της πολυσυγγραμμικότητας αφορά:",
                    answers: [
                        "τη συνάρτηση πυκνότητας",
                        "τη συσχέτιση μεταξύ εξαρτημένων μεταβλητών",
                        "τη συσχέτιση μεταξύ ανεξάρτητων μεταβλητών",
                        "τη διακύμανση των σφαλμάτων"
                    ],
                    correct: 2
                },
                {
                    question: "Ποιο είναι το βασικό αποτέλεσμα του κεντρικού οριακού θεωρήματος (Central Limit Theorem):",
                    answers: [
                        "το δείγμα αντιπροσωπεύει τον πληθυσμό",
                        "ο μέσος δείγματος έχει κανονική κατανομή (για μεγάλο n)",
                        "η τυπική απόκλιση αυξάνεται",
                        "η διάμεσος πλησιάζει το μηδέν"
                    ],
                    correct: 1
                },
                {
                    question: "Η μεθοδολογία bootstrap βασίζεται στη:",
                    answers: [
                        "αναλυτική λύση εξισώσεων",
                        "στατιστική θεωρία F-test",
                        "επαναληπτική δειγματοληψία από το δείγμα",
                        "προσομοίωση με κανονική κατανομή"
                    ],
                    correct: 2
                },
                {
                    question: "Ο συντελεστής συσχέτισης r ίσου με μηδέν σημαίνει ότι:",
                    answers: [
                        "οι μεταβλητές δεν έχουν καμία σχέση",
                        "οι μεταβλητές δεν σχετίζονται γραμμικά",
                        "οι μεταβλητές είναι ταυτόσημες",
                        "υπάρχει αιτιακή σχέση"
                    ],
                    correct: 1
                },
                {
                    question: "Σε έλεγχο χ² ανεξαρτησίας με p-value = 0.03 και α=0.05:",
                    answers: [
                        "αποδεχόμαστε την ανεξαρτησία",
                        "απορρίπτουμε την ανεξαρτησία",
                        "δεν μπορούμε να αποφασίσουμε",
                        "χρειαζόμαστε μεγαλύτερο δείγμα"
                    ],
                    correct: 1
                },
                {
                    question: "Αν η τυπική απόκλιση είναι 0, τότε:",
                    answers: [
                        "η διακύμανση είναι 1",
                        "όλες οι παρατηρήσεις είναι ίδιες",
                        "το δείγμα είναι μεγάλο",
                        "η μέση τιμή είναι 0"
                    ],
                    correct: 1
                },
                {
                    question: "Η απόφαση απόρριψης της H₀ όταν p > α:",
                    answers: [
                        "είναι σωστή",
                        "είναι σφάλμα τύπου 1",
                        "δεν είναι σωστή",
                        "είναι σφάλμα τύπου 2"
                    ],
                    correct: 2
                }
            ],
            'expert': [
                {
                    question: "Η τυπική απόκλιση του μέσου όρου (standard error) μειώνεται όταν:",
                    answers: [
                        "μειώνεται το μέγεθος δείγματος",
                        "αυξάνεται η διακύμανση",
                        "αυξάνεται το μέγεθος δείγματος",
                        "αυξάνεται το επίπεδο σημαντικότητας"
                    ],
                    correct: 2
                },
                {
                    question: "Αν το p-value ενός t-test είναι 0.12 και α=0.05 τότε:",
                    answers: [
                        "απορρίπτουμε την H₀",
                        "αποδεχόμαστε την H₁",
                        "δεν απορρίπτουμε την H₀",
                        "πρέπει να αλλάξουμε το επίπεδο σημαντικότητας"
                    ],
                    correct: 2
                },
                {
                    question: "Στην ανάλυση παλινδρόμησης, το σφάλμα (residual) θα πρέπει να έχει:",
                    answers: [
                        "ασυμμετρία",
                        "τάση",
                        "κανονική κατανομή με μέσο 0",
                        "τυχαίες εξάρσεις"
                    ],
                    correct: 2
                },
                {
                    question: "Η δοκιμή Bartlett χρησιμοποιείται για να ελέγξει:",
                    answers: [
                        "ισότητα μέσων όρων",
                        "κανονικότητα",
                        "ισότητα διασπορών",
                        "ισοκατανομή τυχαίων σφαλμάτων"
                    ],
                    correct: 2
                },
                {
                    question: "Αν το 99% διάστημα εμπιστοσύνης είναι πιο ευρύ από το 95%, αυτό συμβαίνει γιατί:",
                    answers: [
                        "το δείγμα είναι μικρότερο",
                        "αυξάνεται η διακύμανση",
                        "υψηλότερη εμπιστοσύνη απαιτεί μεγαλύτερο εύρος",
                        "μειώθηκε το α"
                    ],
                    correct: 2
                },
                {
                    question: "Ποια από τις παρακάτω περιπτώσεις αφορά την υπερεφαρμογή (overfitting) σε παλινδρόμηση:",
                    answers: [
                        "χρήση μόνο μιας ανεξάρτητης μεταβλητής",
                        "κακή εκτίμηση της τυπικής απόκλισης",
                        "χρήση παραπάνω πολλών μεταβλητών",
                        "μη κανονικότητα στα σφάλματα"
                    ],
                    correct: 2
                },
                {
                    question: "Η δύναμη ενός στατιστικού ελέγχου (power) είναι:",
                    answers: [
                        "t–α",
                        "t–β",
                        "α+β",
                        "α·β"
                    ],
                    correct: 2
                },
                {
                    question: "Η ανάλυση συσταδοποίησης (cluster analysis) είναι τεχνική:",
                    answers: [
                        "περιγραφικής στατιστικής",
                        "υποθετικής στατιστικής",
                        "εξερεύνησης μη ετικετοποιημένων δεδομένων",
                        "γραμμικής πρόβλεψης"
                    ],
                    correct: 2
                },
                {
                    question: "Η μη κανονικότητα στα σφάλματα επηρεάζει:",
                    answers: [
                        "τη μέση τιμή",
                        "την εγκυρότητα των παραμετρικών τεστ",
                        "το εύρος",
                        "την ονομαστική μεταβλητή"
                    ],
                    correct: 1
                },
                {
                    question: "Η ανάλυση παραγόντων (factor analysis) χρησιμοποιείται για:",
                    answers: [
                        "μείωση της διακύμανσης",
                        "έλεγχο της ισότητας μέσων",
                        "εντοπισμό υποκείμενων δομών σε δεδομένα",
                        "ανάλυση κατηγορικών μεταβλητών"
                    ],
                    correct: 2
                },
                {
                    question: "Σε ανάλυση παλινδρόμηση αν τα σφάλματα εμφανίζουν αυτοσυσχέτιση τότε:",
                    answers: [
                        "το μοντέλο είναι υπερεκτιμημένο",
                        "οι παρατηρήσεις είναι ανεξάρτητες",
                        "παραβιάζεται βασική υπόθεση του μοντέλου",
                        "τα υπολείμματα έχουν μέση τιμή 1"
                    ],
                    correct: 2
                },
                {
                    question: "Η δοκιμή Durbin–Watson χρησιμοποιείται για:",
                    answers: [
                        "έλεγχο της ισότητας μέσων",
                        "έλεγχο αυτοσυσχέτισης σφαλμάτων στην παλινδρόμηση",
                        "έλεγχο κανονικότητας",
                        "έλεγχο πολυσυγγραμμικότητας"
                    ],
                    correct: 1
                },
                {
                    question: "Ποια από τις παρακάτω μεθόδους είναι κατάλληλη για κατηγορική εξαρτημένη μεταβλητή:",
                    answers: [
                        "απλή γραμμική παλινδρόμηση",
                        "λογιστική παλινδρόμηση (logistic regression)",
                        "ανάλυση διακύμανσης",
                        "συσταδοποίηση"
                    ],
                    correct: 1
                },
                {
                    question: "Ο δείκτης VIF (Variance Inflation Factor) χρησιμοποιείται για:",
                    answers: [
                        "εκτίμηση της ετεροσκεδαστικότητας",
                        "μέτρηση της πολυσυγγραμμικότητας",
                        "έλεγχο της τυπικής απόκλισης",
                        "ανίχνευση outlier"
                    ],
                    correct: 1
                },
                {
                    question: "Αν το p-value είναι 0.0001 και α=0.05, τότε το αποτέλεσμα θεωρείται:",
                    answers: [
                        "μη σημαντικό",
                        "οριακά σημαντικό",
                        "εξαιρετικά σημαντικό στατιστικό",
                        "δεν μπορούμε να αποφασίσουμε"
                    ],
                    correct: 2
                },
                {
                    question: "Σε ανάλυση διακύμανσης οι ενδοομαδικές διαφορές μετρούν:",
                    answers: [
                        "τη διακύμανση μεταξύ ομάδων",
                        "τη συνολική διακύμανση",
                        "τη διακύμανση εντός των ομάδων",
                        "τη μεταβλητότητα της εξαρτημένης μεταβλητής"
                    ],
                    correct: 2
                },
                {
                    question: "Σε ανάλυση κύριων συνιστωσών (PCA) οι συνιστώσες:",
                    answers: [
                        "είναι γραμμικά εξαρτημένες",
                        "έχουν πάντα ίδια διακύμανση",
                        "είναι μη συσχετισμένες μεταξύ τους",
                        "χρησιμοποιούνται μόνο για κατηγορικά δεδομένα"
                    ],
                    correct: 2
                },
                {
                    question: "Ποια από τις παρακάτω επιλογές είναι προϋπόθεση για χρήση του z-test;",
                    answers: [
                        "άγνωστη διακύμανση",
                        "μικρό δείγμα",
                        "κανονικότητα των δεδομένων",
                        "γνωστή πληθυσμιακή διακύμανση"
                    ],
                    correct: 3
                },
                {
                    question: "Η ετεροσκεδαστικότητα (heteroscedasticity) σημαίνει ότι:",
                    answers: [
                        "τα σφάλματα έχουν διαφορετικές διασπορές",
                        "οι μεταβλητές είναι μη κανονικές",
                        "η μέση τιμή των σφαλμάτων είναι μηδέν",
                        "υπάρχει outlier"
                    ],
                    correct: 0
                },
                {
                    question: "Η μέθοδος Bonferroni διορθώνει:",
                    answers: [
                        "ετεροσκεδαστικότητα",
                        "σφάλματα τύπου 1 σε πολλαπλούς ελέγχους",
                        "σφάλματα τύπου 2",
                        "πολυσυγγραμμικότητα"
                    ],
                    correct: 1
                }
            ]
        };

        let currentCategory = null;
        let userAnswers = {};
        let quizCompleted = false;

        function showCategoryScreen() {
            document.getElementById('categoryContainer').style.display = 'grid';
            document.getElementById('quizContainer').style.display = 'none';
            document.querySelector('.header p').textContent = 'Επιλέξτε μια κατηγορία για να ξεκινήσετε!';
        }

        function showQuizScreen(category) {
            currentCategory = category;
            document.getElementById('categoryContainer').style.display = 'none';
            document.getElementById('quizContainer').style.display = 'block';
            document.querySelector('.header p').textContent = `Κατηγορία: ${getCategoryTitle(category)}`;
            initializeQuiz();
        }

        function getCategoryTitle(category) {
            const categoryMap = {
                'distributions': 'Κατανομές & Πιθανότητες',
                'statistics': 'Στατιστικές Μέθοδοι & Μέτρα',
                'descriptive': 'Περιγραφική Στατιστική',
                'advanced': 'Προχωρημένες Μέθοδοι',
                'expert': 'Ειδικά Θέματα Στατιστικής',
                'mixed': 'Τυχαίες Ερωτήσεις'
            };
            return categoryMap[category];
        }

        function getRandomQuestions() {
            // Get all questions from all categories
            const allQuestions = [];
            const categories = ['distributions', 'statistics', 'descriptive', 'advanced', 'expert'];
            
            categories.forEach(category => {
                questionsByCategory[category].forEach(question => {
                    allQuestions.push({
                        ...question,
                        originalCategory: category
                    });
                });
            });

            // Shuffle array
            for (let i = allQuestions.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [allQuestions[i], allQuestions[j]] = [allQuestions[j], allQuestions[i]];
            }

            // Take first 20 questions
            return allQuestions.slice(0, 20);
        }

        function initializeQuiz() {
            const container = document.getElementById('questionsContainer');
            container.innerHTML = '';
            userAnswers = {};
            quizCompleted = false;
            
            let questions;
            if (currentCategory === 'mixed') {
                questions = getRandomQuestions();
            } else {
                questions = questionsByCategory[currentCategory];
            }

            // Store current questions for later use
            window.currentQuestions = questions;
            
            questions.forEach((q, index) => {
                const questionCard = document.createElement('div');
                questionCard.className = 'question-card';
                let categoryLabel = '';
                if (currentCategory === 'mixed') {
                    categoryLabel = `<div class="question-category">${getCategoryTitle(q.originalCategory)}</div>`;
                }
                questionCard.innerHTML = `
                    <div class="question-number">Ερώτηση ${index + 1}</div>
                    ${categoryLabel}
                    <div class="question-text">${q.question}</div>
                    <div class="answers">
                        ${q.answers.map((answer, answerIndex) => `
                            <div class="answer-option" data-question="${index}" data-answer="${answerIndex}">
                                <div class="answer-letter">${String.fromCharCode(97 + answerIndex)}</div>
                                <div class="answer-text">${answer}</div>
                            </div>
                        `).join('')}
                    </div>
                `;
                container.appendChild(questionCard);
            });

            // Add click event listeners
            document.querySelectorAll('.answer-option').forEach(option => {
                option.addEventListener('click', handleAnswerClick);
            });

            // Reset buttons and results
            document.getElementById('checkAnswers').style.display = 'inline-block';
            document.getElementById('restartQuiz').style.display = 'none';
            document.getElementById('results').style.display = 'none';
            updateProgressBar();
        }

        function handleAnswerClick(event) {
            if (quizCompleted) return;

            const questionIndex = event.currentTarget.dataset.question;
            const answerIndex = parseInt(event.currentTarget.dataset.answer);
            const questionCard = event.currentTarget.closest('.question-card');

            // Remove previous selection if exists
            questionCard.querySelectorAll('.answer-option').forEach(option => {
                option.style.background = '';
                option.style.borderColor = '';
                option.classList.remove('selected');
            });

            // Store the answer
            userAnswers[questionIndex] = answerIndex;

            // Highlight the selected answer
            event.currentTarget.style.background = '#e3f2fd';
            event.currentTarget.style.borderColor = '#2196f3';
            event.currentTarget.classList.add('selected');

            updateProgressBar();
        }

        function updateProgressBar() {
            const answered = Object.keys(userAnswers).length;
            const percentage = (answered / questionsByCategory[currentCategory].length) * 100;
            document.getElementById('progressBar').style.width = percentage + '%';
        }

        function checkAnswers() {
            const questions = window.currentQuestions;
            if (!questions || Object.keys(userAnswers).length !== questions.length) {
                alert('Παρακαλώ απαντήστε σε όλες τις ερωτήσεις πριν τη βαθμολόγηση!');
                return;
            }

            quizCompleted = true;
            let correctAnswers = 0;

            questions.forEach((question, questionIndex) => {
                const userAnswer = userAnswers[questionIndex];
                const correctAnswer = question.correct;
                const questionCard = document.querySelectorAll('.question-card')[questionIndex];
                const options = questionCard.querySelectorAll('.answer-option');

                // Remove any previous classes
                options.forEach(option => {
                    option.classList.remove('correct', 'incorrect', 'selected');
                });

                // Mark correct answer
                options[correctAnswer].classList.add('correct');
                
                if (userAnswer === correctAnswer) {
                    correctAnswers++;
                } else if (userAnswer !== undefined) {
                    // Mark incorrect answer if one was selected
                    options[userAnswer].classList.add('incorrect');
                }

                // Disable all options
                options.forEach(option => option.classList.add('disabled'));
            });

            const totalQuestions = questions.length;
            const percentage = Math.round((correctAnswers / totalQuestions) * 100);
            
            // Update results display
            document.getElementById('score').textContent = `${correctAnswers}/${totalQuestions}`;
            document.getElementById('percentage').textContent = `${percentage}%`;
            document.getElementById('results').style.display = 'block';

            // Update buttons
            document.getElementById('checkAnswers').style.display = 'none';
            document.getElementById('restartQuiz').style.display = 'inline-block';
            
            // Scroll to results
            document.getElementById('results').scrollIntoView({ behavior: 'smooth' });

            // Always show celebration message, but with different effects based on score
            startCelebration(percentage);
        }

        function startCelebration(score) {
            const container = document.getElementById('celebrationContainer');
            const message = document.getElementById('celebrationMessage');
            
            // Clear any existing content
            container.innerHTML = '';
            message.innerHTML = '';
            
            // Show container
            container.style.display = 'block';
            
            // Determine message and kisses based on score
            let messageText = '';
            let kisses = '';

            if (score >= 95) {
                kisses = '💋💋💋💋💋';
                messageText = `👑 🌟 Μπράβο ΓΥΝΑΙΚΑΡΑ ΜΟΥ ΕΣΥ, ΤΟ'ΧΕΙΣ! 👑 🌟`;
            } else if (score >= 90) {
                kisses = '💋💋💋💋';
                messageText = `🌟 Μπράβο ΒΑΛΕΝΑΚΙ ΜΟΥ κέρδισες ένα φιλάκι! 🌟`;
            } else if (score >= 85) {
                kisses = '💋💋💋';
                messageText = `✨ Μπράβο στο ZEMER μου! ✨`;
            } else if (score >= 50) {
                kisses = '💋💋';
                messageText = `Μπορείς και καλύτερα!`;
            } else if (score >= 30) {
                kisses = '💋';
                messageText = `Χρειάζεται διάβασμα!`;
            } else {
                messageText = `🤬`;
            }

            // Set message content
            message.innerHTML = messageText + '<br>' + kisses;
            
            // Show message with animation
            setTimeout(() => {
                message.classList.add('show');
            }, 100);

            // Create celebration effects for high scores
            if (score >= 85) {
                createConfetti();
                createFloatingHearts();

                const celebrationInterval = setInterval(() => {
                    if (document.hidden) return; // Don't animate if page is not visible
                    createConfetti();
                    createFloatingHearts();
                }, 3000);

                // Stop celebrations after 9 seconds
                setTimeout(() => {
                    clearInterval(celebrationInterval);
                    container.style.display = 'none';
                    message.classList.remove('show');
                }, 9000);
            } else {
                // For lower scores, just show the message briefly
                setTimeout(() => {
                    container.style.display = 'none';
                    message.classList.remove('show');
                }, 5000);
            }
        }

        function createConfetti() {
            const container = document.getElementById('celebrationContainer');
            const colors = ['#FF69B4', '#FFB6C1', '#FF1493', '#FFC0CB', '#FF69B4'];
            const confettiCount = window.innerWidth <= 768 ? 50 : 100;
            
            for (let i = 0; i < confettiCount; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = Math.random() * 100 + 'vw';
                confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.animation = `confettiFall ${Math.random() * 2 + 3}s linear forwards`;
                container.appendChild(confetti);
                
                // Remove confetti after animation
                setTimeout(() => {
                    confetti.remove();
                }, 5000);
            }
        }

        function createFloatingHearts() {
            const container = document.getElementById('celebrationContainer');
            const heartsCount = window.innerWidth <= 768 ? 8 : 15;
            const hearts = ['💖', '💝', '💗', '💓', '💕'];
            
            for (let i = 0; i < heartsCount; i++) {
                const heart = document.createElement('div');
                heart.className = 'celebration-hearts';
                heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
                
                // Random starting position
                heart.style.left = Math.random() * 100 + 'vw';
                heart.style.top = (Math.random() * 20 + 80) + 'vh';
                
                // Random end position
                const endX = (Math.random() - 0.5) * 200;
                const endY = -Math.random() * 100 - 100;
                const rotation = (Math.random() - 0.5) * 720;
                
                heart.style.setProperty('--end-x', `${endX}px`);
                heart.style.setProperty('--end-y', `${endY}px`);
                heart.style.setProperty('--rotation', `${rotation}deg`);
                
                container.appendChild(heart);
                
                // Remove heart after animation
                setTimeout(() => {
                    heart.remove();
                }, 3000);
            }
        }

        function restartQuiz() {
            initializeQuiz();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Add event listeners for category selection
        document.querySelectorAll('.category-card').forEach(card => {
            card.addEventListener('click', () => {
                const category = card.dataset.category;
                showQuizScreen(category);
            });
        });

        // Add event listener for back button
        document.getElementById('backToCategories').addEventListener('click', () => {
            if (!quizCompleted || confirm('Είστε σίγουροι ότι θέλετε να επιστρέψετε στις κατηγορίες; Η πρόοδός σας θα χαθεί.')) {
                showCategoryScreen();
            }
        });

        // Event listeners
        document.getElementById('checkAnswers').addEventListener('click', checkAnswers);
        document.getElementById('restartQuiz').addEventListener('click', restartQuiz);

        // Initialize with category screen
        document.addEventListener('DOMContentLoaded', showCategoryScreen);
    </script>
</body>
</html>
